<Window x:Class="Sudoku.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Sudoku"
        mc:Ignorable="d"
        Title="Sudoku" Height="500" Width="800" WindowStartupLocation="CenterScreen"
        d:DataContext="{d:DesignInstance Type=local:ViewModel}"
        KeyDown="Window_KeyDown">

    <Window.Resources>
        
        <!-- Colors -->
        <SolidColorBrush x:Key="ThickBorderBrush" Color="#7A808C"/>
        <SolidColorBrush x:Key="ThinBorderBrush"  Color="#B6BAC3"/>
        <SolidColorBrush x:Key="FixedNumberForegroundBrush"  Color="#2D3238"/>
        <SolidColorBrush x:Key="PlayerNumberForegroundBrush"  Color="#2559BF"/>
        <SolidColorBrush x:Key="IncorrectNumberForegroundBrush"  Color="#CC3256"/>
        <SolidColorBrush x:Key="SelectedCellBackgroundBrush"  Color="#87AEFD"/>
        <SolidColorBrush x:Key="HighlightedCellBackgroundBrush"  Color="#F1F2F7"/>
        
        <!-- Styles -->
        <Style x:Key="TextBlockBaseStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource FixedNumberForegroundBrush}"/>
            <Setter Property="FontFamily" Value="Arial"/>
            <Setter Property="FontSize" Value="30"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
        </Style>
        <Style x:Key="NumberTextBlock" BasedOn="{StaticResource TextBlockBaseStyle}" TargetType="TextBlock">
            <Style.Triggers>
                <DataTrigger Binding="{Binding Editable}" Value="True">
                    <Setter Property="Foreground" Value="{StaticResource PlayerNumberForegroundBrush}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Incorrect}" Value="True">
                    <Setter Property="Foreground" Value="{StaticResource IncorrectNumberForegroundBrush}"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="CellBorder" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="{StaticResource ThinBorderBrush}"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Style.Triggers>
                <DataTrigger Binding="{Binding Highlighted}" Value="True">
                    <Setter Property="Background" Value="{StaticResource HighlightedCellBackgroundBrush}"/>
                </DataTrigger>
                <DataTrigger Binding="{Binding Selected}" Value="True">
                    <Setter Property="Background" Value="{StaticResource SelectedCellBackgroundBrush}"/>
                </DataTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="LargeIndicatorTextBlock" BasedOn="{StaticResource TextBlockBaseStyle}" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource PlayerNumberForegroundBrush}"/>
        </Style>
        <Style x:Key="SmallIndicatorTextBlock" BasedOn="{StaticResource TextBlockBaseStyle}" TargetType="TextBlock">
            <Setter Property="FontSize" Value="15"/>
        </Style>
        
    </Window.Resources>
    
    <DockPanel>

        <ToolBar DockPanel.Dock="Top">
            <Button Content="Generate" Tag="Generate"  Click="Button_Click"/>
            <Button Content="Test" Tag="Test"  Click="Button_Click"/>
        </ToolBar>

        <Grid Background="WhiteSmoke">
            <Grid.RowDefinitions>
                <RowDefinition Height="20"/>
                <RowDefinition/>
                <RowDefinition Height="20"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition Width="{Binding ElementName=gridMain, Path=ActualHeight}"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            
            <!-- Sudoku Grid -->
            <Border BorderBrush="{StaticResource ThickBorderBrush}" BorderThickness="2" 
                Grid.Row="1" Grid.Column="1" SnapsToDevicePixels="True">
                <Grid x:Name="gridMain" SizeChanged="Grid_SizeChanged">
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <Border BorderBrush="{StaticResource ThickBorderBrush}"  BorderThickness="0 0 1 1">
                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition/>
                                <RowDefinition/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                                <ColumnDefinition/>
                            </Grid.ColumnDefinitions>

                            <Border Background="WhiteSmoke" BorderBrush="{StaticResource ThinBorderBrush}" BorderThickness="0 0 1 1">
                                <TextBlock Text="1" 
                                           Foreground="{StaticResource FixedNumberForegroundBrush}" FontSize="30" FontFamily="Arial" 
                                           VerticalAlignment="Center" HorizontalAlignment="Center"/>
                            </Border>
                            
                        </Grid>
                    </Border>
                </Grid>
            </Border>

            <!-- Grid with number indicators -->
            <Grid Grid.Row="1" Grid.Column="2" Margin="20,0,20,0" x:Name="gridNumberIndicators">
                <Grid.RowDefinitions>
                    <RowDefinition Height="44"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="30"/>
                    <ColumnDefinition Width="20"/>
                    <ColumnDefinition/>
                </Grid.ColumnDefinitions>

                <Border Grid.ColumnSpan="2" Background="White" CornerRadius="10" Margin="0,3,0,3"/>
                <TextBlock Text="1" Style="{StaticResource LargeIndicatorTextBlock}"/>
                <TextBlock Grid.Column="1" Text="9" Style="{StaticResource SmallIndicatorTextBlock}"/>
            </Grid>
            
        </Grid>
        
    </DockPanel>
</Window>
